{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,unstable_HistoryRouter,useNavigate}from\"react-router-dom\";import{useSelector}from\"react-redux\";import{ROUTES}from\"../routes/routes\";import Button from\"../ui/button/Button\";import Title from\"../ui/Title\";import Input from\"../ui/input/Input\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterForm(){const{city,salon}=useSelector(_ref=>{let{salon}=_ref;return salon;});const navigate=useNavigate();const[userName,setUserName]=useState();const[tel,setTel]=useState();const[model,setModel]=useState();const[date,setDate]=useState();const[comment,setComment]=useState();const[nameDirty,setNameDirty]=useState(false);const[telDirty,setTelDirty]=useState(false);const[modelDirty,setModelDirty]=useState(false);const[dateDirty,setDateDirty]=useState(false);const[nameError,setNameError]=useState(\"Введите имя\");const[telError,setTelError]=useState(\"Введите телефон\");const[modelError,setModelError]=useState(\"Введите модель автомобиля\");const[dateError,setDateError]=useState(\"Введите желаемую дату\");const[formValid,setFormValid]=useState(false);useEffect(()=>{if(nameError||telError||modelError||dateError){setFormValid(false);}else{setFormValid(true);}},[nameError,telError,modelError,dateError]);const nameHandler=e=>{setUserName(e.target.value);if(e.target.value.length>4)setNameError(\"\");};const modelHandler=e=>{setModel(e.target.value);if(e.target.value.length>3){setModelError(\"\");}else{setModelError(\"Введите модель автомобиля\");}};const dateHandler=e=>{setDate(e.target.value);if(e.target.value.length>10){setDateError(\"\");}else{setDateError(\"Введите желаемую дату\");}};const commentHandler=e=>{setComment(e.target.value);};const telHandler=e=>{setTel(e.target.value);const re=/^[\\d\\+][\\d\\(\\)\\ -]{4,14}\\d$/;if(!re.test(e.target.value)){setTelError(\"Некорректный номер телефона\");}else{setTelError(\"\");}};const handleSubmit=e=>{e.preventDefault();navigate(ROUTES.THANKS);};const blurHandler=e=>{switch(e.target.name){case\"name\":setNameDirty(true);break;case\"phone\":setTelDirty(true);break;case\"model\":setModelDirty(true);break;case\"date\":setDateDirty(true);break;}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-[100vh] w-[100wh] mt-32 mb-32\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" w-[270px] relative\",children:[/*#__PURE__*/_jsxs(Title,{className:\"text-[23px]\",children:[\"\\u0417\\u0430\\u043F\\u0438\\u0441\\u044C \\u043D\\u0430\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u043E\\u0431\\u0441\\u043B\\u0443\\u0436\\u0438\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0432\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0433\\u043E\\u0440\\u043E\\u0434\\u0435 \",city,\" \\u0432 \",salon]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bg-bg_img bg-no-repeat bg-cover bg-center w-[320px] h-[239px] z-[-1] top-[120px] left-[-25px]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-[linear-gradient(90deg,_#264404_29%,_#396904_100%)] py-7 rounded-2xl\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"w-full flex flex-col gap-3 items-center\",children:[/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"name\",value:userName,required:true,nameError:nameError,nameDirty:nameDirty,onBlur:e=>blurHandler(e),onChange:e=>nameHandler(e),title:\"Ваше имя\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",name:\"phone\",value:tel,required:true,nameError:telError,nameDirty:telDirty,onBlur:e=>blurHandler(e),onChange:e=>telHandler(e),title:\"Номер телефона\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"model\",value:model,required:true,nameError:modelError,nameDirty:modelDirty,onBlur:e=>blurHandler(e),onChange:e=>modelHandler(e),title:\"Модель автомобиля\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"date\",value:date,required:true,nameError:dateError,nameDirty:dateDirty,onBlur:e=>blurHandler(e),onChange:e=>dateHandler(e),title:\"\\u0414\\u0430\\u0442\\u0430 \\u0438 \\u0432\\u0440\\u0435\\u043C\\u044F 01.12.24 13.00\"}),/*#__PURE__*/_jsx(Input,{name:\"comment\",value:comment,onChange:e=>commentHandler(e)}),/*#__PURE__*/_jsx(Button,{submit:true,disabled:!formValid,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})}),/*#__PURE__*/_jsx(Button,{back:true,onClick:()=>navigate(-1),children:\"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F\"})]})});}","map":{"version":3,"names":["React","useEffect","useState","Link","unstable_HistoryRouter","useNavigate","useSelector","ROUTES","Button","Title","Input","jsx","_jsx","jsxs","_jsxs","RegisterForm","city","salon","_ref","navigate","userName","setUserName","tel","setTel","model","setModel","date","setDate","comment","setComment","nameDirty","setNameDirty","telDirty","setTelDirty","modelDirty","setModelDirty","dateDirty","setDateDirty","nameError","setNameError","telError","setTelError","modelError","setModelError","dateError","setDateError","formValid","setFormValid","nameHandler","e","target","value","length","modelHandler","dateHandler","commentHandler","telHandler","re","test","handleSubmit","preventDefault","THANKS","blurHandler","name","className","children","onSubmit","type","required","onBlur","onChange","title","submit","disabled","back","onClick"],"sources":["C:/Users/user/Desktop/Code/Стажировка/registration — копия/src/pages/RegisterForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Link, unstable_HistoryRouter, useNavigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { ROUTES } from \"../routes/routes\";\r\nimport Button from \"../ui/button/Button\";\r\nimport Title from \"../ui/Title\";\r\nimport Input from \"../ui/input/Input\";\r\n\r\nexport default function RegisterForm() {\r\n  const { city, salon } = useSelector(({ salon }) => salon);\r\n  const navigate = useNavigate();\r\n\r\n  const [userName, setUserName] = useState();\r\n  const [tel, setTel] = useState();\r\n  const [model, setModel] = useState();\r\n  const [date, setDate] = useState();\r\n  const [comment, setComment] = useState();\r\n  const [nameDirty, setNameDirty] = useState(false);\r\n  const [telDirty, setTelDirty] = useState(false);\r\n  const [modelDirty, setModelDirty] = useState(false);\r\n  const [dateDirty, setDateDirty] = useState(false);\r\n  const [nameError, setNameError] = useState(\"Введите имя\");\r\n  const [telError, setTelError] = useState(\"Введите телефон\");\r\n  const [modelError, setModelError] = useState(\"Введите модель автомобиля\");\r\n  const [dateError, setDateError] = useState(\"Введите желаемую дату\");\r\n  const [formValid, setFormValid] = useState(false);\r\n  useEffect(() => {\r\n    if (nameError || telError || modelError || dateError) {\r\n      setFormValid(false);\r\n    } else {\r\n      setFormValid(true);\r\n    }\r\n  }, [nameError, telError, modelError, dateError]);\r\n\r\n  const nameHandler = (e) => {\r\n    setUserName(e.target.value);\r\n    if (e.target.value.length > 4) setNameError(\"\");\r\n  };\r\n  const modelHandler = (e) => {\r\n    setModel(e.target.value);\r\n    if (e.target.value.length > 3) {\r\n      setModelError(\"\");\r\n    } else {\r\n      setModelError(\"Введите модель автомобиля\");\r\n    }\r\n  };\r\n  const dateHandler = (e) => {\r\n    setDate(e.target.value);\r\n    if (e.target.value.length > 10) {\r\n      setDateError(\"\");\r\n    } else {\r\n      setDateError(\"Введите желаемую дату\");\r\n    }\r\n  };\r\n  const commentHandler = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n  const telHandler = (e) => {\r\n    setTel(e.target.value);\r\n    const re = /^[\\d\\+][\\d\\(\\)\\ -]{4,14}\\d$/;\r\n    if (!re.test(e.target.value)) {\r\n      setTelError(\"Некорректный номер телефона\");\r\n    } else {\r\n      setTelError(\"\");\r\n    }\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    navigate(ROUTES.THANKS);\r\n  };\r\n\r\n  const blurHandler = (e) => {\r\n    switch (e.target.name) {\r\n      case \"name\":\r\n        setNameDirty(true);\r\n        break;\r\n      case \"phone\":\r\n        setTelDirty(true);\r\n        break;\r\n      case \"model\":\r\n        setModelDirty(true);\r\n        break;\r\n      case \"date\":\r\n        setDateDirty(true);\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center h-[100vh] w-[100wh] mt-32 mb-32\">\r\n      <div className=\" w-[270px] relative\">\r\n        <Title className={\"text-[23px]\"}>\r\n          Запись на\r\n          <br />\r\n          обслуживание в<br />\r\n          городе {city} в {salon}\r\n        </Title>\r\n        <div className=\"absolute bg-bg_img bg-no-repeat bg-cover bg-center w-[320px] h-[239px] z-[-1] top-[120px] left-[-25px]\"></div>\r\n        <div className=\"bg-[linear-gradient(90deg,_#264404_29%,_#396904_100%)] py-7 rounded-2xl\">\r\n          <form\r\n            onSubmit={handleSubmit}\r\n            className=\"w-full flex flex-col gap-3 items-center\"\r\n          >\r\n            <Input\r\n              type={\"text\"}\r\n              name={\"name\"}\r\n              value={userName}\r\n              required\r\n              nameError={nameError}\r\n              nameDirty={nameDirty}\r\n              onBlur={(e) => blurHandler(e)}\r\n              onChange={(e) => nameHandler(e)}\r\n              title={\"Ваше имя\"}\r\n            />\r\n            <Input\r\n              type={\"number\"}\r\n              name={\"phone\"}\r\n              value={tel}\r\n              required\r\n              nameError={telError}\r\n              nameDirty={telDirty}\r\n              onBlur={(e) => blurHandler(e)}\r\n              onChange={(e) => telHandler(e)}\r\n              title={\"Номер телефона\"}\r\n            />\r\n            <Input\r\n              type={\"text\"}\r\n              name={\"model\"}\r\n              value={model}\r\n              required\r\n              nameError={modelError}\r\n              nameDirty={modelDirty}\r\n              onBlur={(e) => blurHandler(e)}\r\n              onChange={(e) => modelHandler(e)}\r\n              title={\"Модель автомобиля\"}\r\n            />\r\n            <Input\r\n              type={\"text\"}\r\n              name={\"date\"}\r\n              value={date}\r\n              required\r\n              nameError={dateError}\r\n              nameDirty={dateDirty}\r\n              onBlur={(e) => blurHandler(e)}\r\n              onChange={(e) => dateHandler(e)}\r\n              title={`Дата и время 01.12.24 13.00`}\r\n            />\r\n            <Input\r\n              name={\"comment\"}\r\n              value={comment}\r\n              onChange={(e) => commentHandler(e)}\r\n            ></Input>\r\n            <Button submit disabled={!formValid}>\r\n              Отправить\r\n            </Button>\r\n          </form>\r\n        </div>\r\n        <Button back onClick={() => navigate(-1)}>\r\n          Вернуться\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}